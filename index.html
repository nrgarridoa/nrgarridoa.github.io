<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portafolio · Nilson R. Garrido</title>
  <meta name="description" content="Portafolio de proyectos en Python, Power BI, Excel, Streamlit y Machine Learning aplicados a minería." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
  <!-- TailwindCSS Play CDN (simple para GitHub Pages) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            base: '#0A192F',
            accent: '#0068FF',
            accent2: '#00D2FF'
          },
          fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui'],
            display: ['Montserrat', 'Inter', 'ui-sans-serif']
          },
          boxShadow: {
            soft: '0 10px 30px -12px rgba(0,0,0,0.35)'
          }
        }
      }
    }
  </script>
  <style>
    html { scroll-behavior: smooth; }
    .glass { backdrop-filter: saturate(180%) blur(8px); background: rgba(255,255,255,0.05); }
  </style>
</head>
<body class="bg-base text-white font-sans">
  <!-- NAV -->
  <header class="sticky top-0 z-50 glass border-b border-white/10">
    <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-8 w-8 rounded-xl bg-gradient-to-br from-accent to-accent2"></div>
        <span class="font-bold tracking-wide">Portafolio · Nilson R. Garrido</span>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm text-white/80">
        <a href="#about" class="hover:text-white">Sobre mí</a>
        <a href="#projects" class="hover:text-white">Proyectos</a>
        <a href="#achievements" class="hover:text-white">Logros</a>
        <a href="#cv" class="hover:text-white">CV</a>
        <a href="#contact" class="hover:text-white">Contacto</a>
      </nav>
      <div class="flex items-center gap-2">
        <a href="https://github.com/" target="_blank" class="px-3 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20 text-sm">GitHub</a>
        <a href="assets/CV_Nilson_Rolando_Garrido_Asenjo.pdf" class="px-3 py-2 rounded-md bg-accent hover:bg-[#0056d1] text-sm">Descargar CV</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="relative overflow-hidden">
    <div class="max-w-7xl mx-auto px-6 py-20 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <span class="inline-flex items-center gap-2 rounded-full border border-white/10 px-3 py-1 text-xs text-white/70">
          <span class="h-1.5 w-1.5 rounded-full bg-accent2"></span> Disponible para colaboraciones
        </span>
        <h1 class="mt-4 text-4xl md:text-5xl font-extrabold leading-tight font-display">
          Nilson Rolando Garrido Asenjo
          <span class="block text-xl md:text-2xl text-white/80">BSc. Mining Engineer & Industrial Manager</span>
        </h1>
            <!-- Avatar de perfil -->
            <div class="mt-4 flex items-start gap-4">
              <img src="assets/perfil.jpg" onerror="this.onerror=null; this.src='perfil.jpg'" alt="Foto de perfil de Nilson Rolando Garrido Asenjo" class="h-24 w-24 md:h-28 md:w-28 rounded-full object-cover ring-2 ring-accent/60 shadow-soft"/>
              <div>
                <div class="text-[0.95rem] md:text-base text-white/80 md:whitespace-nowrap">
                  Data Science · Data Analytics · Data Viz · Data Storytelling · Mining
                </div>
                <div class="text-sm text-white/60 mt-1">Lima, Perú</div>
              </div>
            </div>
            <p class="mt-4 text-white/80 max-w-xl">
          Portafolio de proyectos en Python, Power BI, Excel, Streamlit y Machine Learning, enfocados en productividad, costos y operaciones mineras.
        </p>
        <div class="mt-6 flex flex-wrap gap-3 text-xs">
          <span class="px-3 py-1 rounded-full border border-white/15 bg-white/5">Python</span>
          <span class="px-3 py-1 rounded-full border border-white/15 bg-white/5">Power BI</span>
          <span class="px-3 py-1 rounded-full border border-white/15 bg-white/5">Streamlit</span>
          <span class="px-3 py-1 rounded-full border border-white/15 bg-white/5">Machine Learning</span>
        </div>
        <div class="mt-8 flex flex-wrap gap-3">
          <a href="#cv" class="px-4 py-2 rounded-md bg-accent hover:bg-[#0056d1] text-sm">Descargar CV PDF</a>
          <a href="#projects" class="px-4 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20 text-sm">Ver proyectos</a>
        </div>
      </div>
      <div class="relative h-[420px] rounded-3xl border border-white/10 bg-gradient-to-br from-[#081226] via-[#0E2C5A] to-base p-2 shadow-soft">
        <div class="absolute -top-10 -right-10 h-64 w-64 rounded-full bg-accent/30 blur-3xl"></div>
        <div class="absolute -bottom-14 -left-10 h-64 w-64 rounded-full bg-accent2/20 blur-3xl"></div>
        <div class="relative h-full w-full rounded-2xl bg-[#0E1B36] grid grid-cols-3 gap-2 p-4">
          <!-- Placeholder de mini-vistas -->
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
          <div class="rounded-xl border border-white/10 bg-white/5"></div>
        </div>
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70">
          Carrusel de vistas de proyectos
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="py-20 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-3 gap-12 items-start">
      <div class="md:col-span-2">
        <h2 class="text-3xl font-bold font-display">Sobre mí</h2>
        <p class="mt-4 text-white/80">
          Profesional de minería con enfoque en analítica y automatización. Diseña soluciones de datos para operaciones de carguío y acarreo, costo-eficiencia (O'Hara, cutoff grade) y tableros ejecutivos. Apasionado por transformar datos en decisiones.
        </p>
        <div class="mt-6 grid sm:grid-cols-3 gap-4">
          <div class="bg-white/5 border border-white/10 rounded-xl p-4">
            <h3 class="text-sm font-semibold">Stack</h3>
            <p class="mt-1 text-sm text-white/80">Python · Power BI · Excel · Streamlit · ML</p>
          </div>
          <div class="bg-white/5 border border-white/10 rounded-xl p-4">
            <h3 class="text-sm font-semibold">Enfoque</h3>
            <p class="mt-1 text-sm text-white/80">Productividad, KPIs, costos, optimización</p>
          </div>
          <div class="bg-white/5 border border-white/10 rounded-xl p-4">
            <h3 class="text-sm font-semibold">Industria</h3>
            <p class="mt-1 text-sm text-white/80">Minería a tajo abierto y subterránea</p>
          </div>
        </div>
      </div>
      <div class="space-y-3">
        <h3 class="font-semibold text-white/90">Datos rápidos</h3>
        <ul class="space-y-2 text-sm text-white/80">
          <li>+X años en proyectos de minería y analítica</li>
          <li>Docencia: Python aplicado a minería</li>
          <li>Interés actual: ML para fragmentación y calidad</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- PROJECTS -->
  <section id="projects" class="py-20 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6">
      <div class="flex items-center justify-between gap-4">
        <h2 class="text-3xl font-bold font-display">Proyectos</h2>
        <div id="filters" class="flex flex-wrap gap-2 text-xs"></div>
      </div>
      <div id="grid" class="mt-8 grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </section>

  <!-- ACHIEVEMENTS -->
  <section id="achievements" class="py-20 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6">
      <h2 class="text-3xl font-bold font-display">Logros & Certificaciones</h2>
      <div class="mt-8 grid md:grid-cols-3 gap-6">
        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-base font-semibold">Ganador Debate (SM)</h3>
          <p class="text-sm text-white/80 mt-1">Primer lugar nacional en debate técnico — Capítulos SM.</p>
        </div>
        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-base font-semibold">Becario PRONABEC</h3>
          <p class="text-sm text-white/80 mt-1">Reconocimiento por mérito académico (primeros puestos).</p>
        </div>
        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-base font-semibold">Certificaciones</h3>
          <p class="text-sm text-white/80 mt-1">Python, Power BI, ML (lista breve).</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CV -->
  <section id="cv" class="py-20 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h2 class="text-3xl font-bold font-display">Currículum</h2>
        <p class="mt-4 text-white/80">Descarga una versión PDF actualizada de mi CV y consulta experiencia, formación y proyectos clave.</p>
        <div class="mt-6">
          <a class="px-4 py-2 rounded-md bg-accent hover:bg-[#0056d1] text-sm inline-flex items-center" href="assets/CV_Nilson_Rolando_Garrido_Asenjo.pdf" download>Descargar CV PDF</a>
        </div>
      </div>
      <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
        <div class="h-[360px] rounded-lg border border-white/10 grid place-items-center text-white/60 text-sm">Vista previa del CV (embed)</div>
      </div>
    </div>
  </section>

  <!-- EXPERIENCE -->
  <section id="experience" class="py-20 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6">
      <h2 class="text-3xl font-bold font-display">Experiencia & Docencia</h2>
      <div class="mt-8 grid md:grid-cols-3 gap-6 text-sm">
        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-base font-semibold">Cursos dictados</h3>
          <p class="text-white/80 mt-1">Python para Minería · Power BI · ML aplicado</p>
        </div>
        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-base font-semibold">Proyectos clave</h3>
          <p class="text-white/80 mt-1">FMS KPIs · Cutoff Grade App · O'Hara Estimator</p>
        </div>
        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-base font-semibold">Resultados</h3>
          <p class="text-white/80 mt-1">+X% de visibilidad en KPIs, reducción de tiempos de reporte</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="py-20 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-start">
      <div>
        <h2 class="text-3xl font-bold font-display">Contacto</h2>
        <p class="mt-4 text-white/80">¿Te interesa colaborar o contratar? Déjame un mensaje a través del formulario o conecta por LinkedIn.</p>
        <div class="mt-6 flex items-center gap-3">
          <a class="px-3 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20 text-sm" href="https://www.linkedin.com/in/nrgarridoa/" target="_blank">LinkedIn</a>
          <a class="px-3 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20 text-sm" href="mailto:nrgarridoa@gmail.com">Correo</a>
        </div>
      </div>
      <form class="bg-white/5 border border-white/10 rounded-xl p-5 grid gap-3 text-sm" action="https://formspree.io/f/xyz" method="POST">
        <div>
          <label class="text-white/70">Nombre</label>
          <input name="name" class="mt-1 w-full rounded-md bg-white/10 border border-white/15 px-3 py-2 placeholder:text-white/50" placeholder="Tu nombre" required />
        </div>
        <div>
          <label class="text-white/70">Email</label>
          <input name="email" type="email" class="mt-1 w-full rounded-md bg-white/10 border border-white/15 px-3 py-2 placeholder:text-white/50" placeholder="tu@correo.com" required />
        </div>
        <div>
          <label class="text-white/70">Mensaje</label>
          <textarea name="message" class="mt-1 w-full rounded-md bg-white/10 border border-white/15 px-3 py-2 h-28 placeholder:text-white/50" placeholder="Cuéntame brevemente" required></textarea>
        </div>
        <button class="px-4 py-2 rounded-md bg-accent hover:bg-[#0056d1]" type="submit">Enviar</button>
        <p class="text-xs text-white/50">* Formulario servido por Formspree para ocultar tu email.</p>
      </form>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="border-t border-white/10">
    <div class="max-w-7xl mx-auto px-6 py-10 text-sm text-white/60 flex flex-col md:flex-row items-center justify-between gap-4">
      <p>© 2025 Nilson Rolando Garrido Asenjo — Portafolio</p>
      <div class="flex items-center gap-4">
        <a class="hover:text-white" href="https://github.com/" target="_blank">GitHub</a>
        <a class="hover:text-white" href="https://www.linkedin.com/in/nrgarridoa/" target="_blank">LinkedIn</a>
        <span class="text-white/40">·</span>
        <span>Hecho con GitHub Pages</span>
      </div>
    </div>
  </footer>

  <script>
    // ====== Datos de proyectos (editar a tu gusto) ======
    const DEFAULT_PROJECTS = $1;

    // Estado dinámico (sobrescribible por JSON externo o admin)
    let PROJECTS = DEFAULT_PROJECTS;

    const CATEGORIES = ['Todos','Python','Power BI','Excel','Streamlit','Machine Learning'];

    const filtersEl = document.getElementById('filters');
    const gridEl = document.getElementById('grid');
    let active = 'Todos';

    function renderFilters() {
      filtersEl.innerHTML = '';
      CATEGORIES.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'rounded-full border px-3 py-1 ' + (active===cat ? 'bg-accent border-transparent' : 'border-white/15 bg-white/5 hover:bg-white/10');
        btn.textContent = cat;
        btn.onclick = () => { active = cat; renderProjects(); renderFilters(); };
        filtersEl.appendChild(btn);
      });
    }

    function tagToCategory(tags) {
      if (tags.includes('Python')) return 'Python';
      if (tags.includes('Power BI')) return 'Power BI';
      if (tags.includes('Excel')) return 'Excel';
      if (tags.includes('Streamlit')) return 'Streamlit';
      if (tags.includes('Machine Learning')) return 'Machine Learning';
      return 'Otros';
    }

    function renderProjects() {
      gridEl.innerHTML = '';
      const subset = PROJECTS.filter(p => active==='Todos' ? true : tagToCategory(p.tags)===active);

      subset.forEach(p => {
        const card = document.createElement('article');
        card.className = 'group bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-white/20 transition flex flex-col';
        card.innerHTML = `
          <div class="h-40 bg-[#0E2C5A] grid place-items-center overflow-hidden">
            <img src="${p.image}" alt="${p.title}" class="h-full w-full object-cover object-center opacity-90 group-hover:opacity-100 transition" onerror="this.style.display='none'">
          </div>
          <div class="p-5 grow">
            <h3 class="text-lg font-semibold">${p.title}</h3>
            <p class="text-white/70 text-sm mt-1">${p.desc}</p>
            <div class="flex flex-wrap gap-2 mt-3">
              ${p.tags.map(t=>`<span class='px-2 py-0.5 text-xs rounded-md border border-white/15 bg-white/10'>${t}</span>`).join('')}
            </div>
          </div>
          <div class="p-5 pt-0 flex gap-2">
            <a class="px-3 py-2 rounded-md bg-accent hover:bg-[#0056d1] text-sm" target="_blank" href="${p.github}">GitHub</a>
            <a class="px-3 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20 text-sm" target="_blank" href="${p.demo}">Demo</a>
          </div>
        `;
        gridEl.appendChild(card);
      });

      if (subset.length === 0) {
        gridEl.innerHTML = '<p class="text-white/60">No hay proyectos en esta categoría aún.</p>';
      }
    }

    renderFilters();

    // Carga dinámica de proyectos desde assets/projects.json si existe
    (async function loadProjects(){
      try {
        const res = await fetch('assets/projects.json', { cache: 'no-store' });
        if (res.ok) {
          PROJECTS = await res.json();
        } else {
          PROJECTS = DEFAULT_PROJECTS;
        }
      } catch (e) {
        PROJECTS = DEFAULT_PROJECTS;
      }
      renderProjects();
    })();

    // === Admin ligero (Ctrl+Shift+A) ===
    (function initAdmin(){
      const html = `
      <div id=\"adminPanel\" class=\"hidden fixed inset-0 z-[9999] bg-black/70 backdrop-blur p-6\">
        <div class=\"max-w-3xl mx-auto bg-base border border-white/15 rounded-xl p-6 text-sm\">
          <div class=\"flex items-center justify-between\">
            <h3 class=\"text-lg font-semibold\">Administrador de Proyectos (beta)</h3>
            <button id=\"adminClose\" class=\"px-2 py-1 rounded-md border border-white/15 bg-white/10 hover:bg-white/20\">Cerrar</button>
          </div>
          <p class=\"text-white/70 mt-2\">Agrega proyectos y <strong>descarga</strong> <code>projects.json</code> para subirlo a <em>assets/</em> en tu repo.</p>
          <div class=\"grid md:grid-cols-2 gap-3 mt-4\">
            <input id=\"f_title\" class=\"rounded-md bg-white/10 border border-white/15 px-3 py-2\" placeholder=\"Título\"/>
            <input id=\"f_tags\" class=\"rounded-md bg-white/10 border border-white/15 px-3 py-2\" placeholder=\"Tags (coma separadas)\"/>
            <input id=\"f_image\" class=\"rounded-md bg-white/10 border border-white/15 px-3 py-2\" placeholder=\"URL de imagen (assets/pX.png)\"/>
            <input id=\"f_github\" class=\"rounded-md bg-white/10 border border-white/15 px-3 py-2\" placeholder=\"URL de GitHub\"/>
            <input id=\"f_demo\" class=\"rounded-md bg-white/10 border border-white/15 px-3 py-2 md:col-span-2\" placeholder=\"URL de Demo (Power BI / Streamlit)\"/>
            <textarea id=\"f_desc\" class=\"rounded-md bg-white/10 border border-white/15 px-3 py-2 md:col-span-2\" rows=\"3\" placeholder=\"Descripción breve (2–3 líneas)\"></textarea>
          </div>
          <div class=\"mt-3 flex gap-2\">
            <button id=\"adminAdd\" class=\"px-3 py-2 rounded-md bg-accent hover:bg-[#0056d1]\">Agregar</button>
            <button id=\"adminDownload\" class=\"px-3 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20\">Descargar projects.json</button>
            <label class=\"px-3 py-2 rounded-md border border-white/15 bg-white/10 hover:bg-white/20 cursor-pointer\">
              Importar JSON<input id=\"adminImport\" type=\"file\" accept=\"application/json\" class=\"hidden\"/>
            </label>
          </div>
          <div class=\"mt-4 max-h-48 overflow-auto border border-white/10 rounded-lg\">
            <table class=\"w-full text-xs\">
              <thead class=\"bg-white/5\"><tr><th class=\"p-2 text-left\">Título</th><th class=\"p-2 text-left\">Tags</th><th class=\"p-2 text-left\">GitHub</th></tr></thead>
              <tbody id=\"adminTable\"></tbody>
            </table>
          </div>
        </div>
      </div>`;
      document.body.insertAdjacentHTML('beforeend', html);
      const panel = document.getElementById('adminPanel');
      const t = document.getElementById('adminTable');
      const closeBtn = document.getElementById('adminClose');
      function refreshTable(){
        t.innerHTML = PROJECTS.map(p=>`<tr class=\"border-t border-white/10\"><td class=\"p-2\">${p.title}</td><td class=\"p-2\">${(p.tags||[]).join(', ')}</td><td class=\"p-2 truncate\"><a class=\"underline\" href=\"${p.github}\" target=\"_blank\">link</a></td></tr>`).join('');
      }
      document.addEventListener('keydown', (e)=>{ if(e.ctrlKey && e.shiftKey && e.code==='KeyA'){ panel.classList.toggle('hidden'); refreshTable(); }});
      closeBtn.addEventListener('click', ()=> panel.classList.add('hidden'));
      document.getElementById('adminAdd').onclick = ()=>{
        const get = id=>document.getElementById(id).value.trim();
        const item = {
          title: get('f_title'),
          desc: get('f_desc'),
          tags: get('f_tags')? get('f_tags').split(',').map(s=>s.trim()):[],
          image: get('f_image'),
          github: get('f_github'),
          demo: get('f_demo')
        };
        if(!item.title){ alert('Título requerido'); return; }
        PROJECTS.push(item);
        refreshTable();
        renderProjects();
      };
      document.getElementById('adminDownload').onclick = ()=>{
        const blob = new Blob([JSON.stringify(PROJECTS, null, 2)], {type:'application/json'});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'projects.json';
        a.click();
      };
      document.getElementById('adminImport').onchange = async (e)=>{
        const file = e.target.files[0];
        if(!file) return;
        const text = await file.text();
        try { PROJECTS = JSON.parse(text); renderProjects(); refreshTable(); } catch(err){ alert('JSON inválido'); }
      };
    })();
  </script>

  <!-- (Opcional) Analytics — Plausible -->
  <!-- <script defer data-domain="tu-dominio.com" src="https://plausible.io/js/script.js"></script> -->
</body>
</html>
